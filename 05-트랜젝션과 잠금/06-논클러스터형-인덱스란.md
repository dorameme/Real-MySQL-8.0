
### 1. 기본 개념

 - 논클러스터형 인덱스는 인덱스와 데이터가 별도로 저장되는 구조    
 - 인덱스에는 인덱스 키 + 해당 데이터 위치(포인터)만 저장됨
 - 데이터는 테이블에 원래 순서대로 존재하고, 인덱스를 통해 참조해서 찾아가는 구조

---

### 2. 특징

1. 데이터와 인덱스가 분리

    인덱스는 B-Tree로 관리
    인덱스 조회 → 인덱스에 있는 포인터를 따라 실제 데이터 접근

2. Secondary Key라고도 불림

    InnoDB에서 Primary Key가 클러스터형 인덱스, 나머지 컬럼 인덱스는 논클러스터형

3. 장단점

    장점: 삽입/삭제 시 클러스터형 인덱스보다 구조 변경 부담 적음
    단점: 인덱스 조회 후 다시 데이터 접근 필요 → I/O 비용 증가

---

### 3. 실무 쓰임

 자주 검색하는 컬럼에 대해 Secondary Key 생성
 예:

```sql
CREATE INDEX idx_user ON orders(user_id);
```

 `user_id`로 검색할 때 idx\_user 인덱스를 통해 데이터 위치 확인 후 실제 레코드 조회

---

### 4. 클러스터형 vs 논클러스터형 비교

| 구분        | 클러스터형               | 논클러스터형                 |
| --------- | ------------------- | ---------------------- |
| 데이터 저장    | 인덱스 순서대로 저장         | 테이블에 원래 순서대로 저장        |
| 조회 방식     | 인덱스만 따라가도 데이터 접근 가능 | 인덱스로 위치 확인 후 데이터 접근 필요 |
| 장점        | 범위 조회, 레코드 락 효율적    | 삽입/삭제/수정 부담 적음         |
| InnoDB 사례 | Primary Key         | Secondary Key          |

---

정리하면:
> 클러스터형 인덱스는 데이터 자체가 인덱스 순서대로 저장되는 반면, 논클러스터형 인덱스는 데이터와 인덱스가 분리되어 인덱스만으로는 데이터가 바로 나오지 않고, 포인터를 통해 접근해야 한다.
